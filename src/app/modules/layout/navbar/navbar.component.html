<nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark" style="padding: 0">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img class="img-profile" src="assets/default-imgs/website-icon.png" style="width: 75px;">
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link active" href="#">Inicio</a>
        </li>
        <div *ngFor="let category of categoryList;">
          <li class="nav-item">
            <a class="nav-link" [href]="'product/category/'+category.category_id" >{{category.category}}</a>
          </li>
        </div>

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Administrar</a>
          <div class="dropdown-menu">
            <a class="dropdown-item text-white"  href="/category">Categorias</a>
            <a class="dropdown-item text-white" href="/customer">Clientes</a>
            <a class="dropdown-item text-white" href="/product">Productos</a>
            <a class="dropdown-item text-white" href="/region">Regiones</a>
          </div>
        </li>

      </ul>

      <!-- Topbar Navbar -->
      <ul class="navbar-nav ml-auto">
        <li class="nav-item " >
          <a class="nav-link" [href]="'#offcanvasWithBothOptions'" (click)="getCart()" data-bs-toggle="offcanvas" aria-controls="offcanvasExample"><i class="ph ph-shopping-cart cart" style="font-size: 30px;"></i></a>
        </li>
        <div class="topbar-divider d-none d-sm-block"></div>

        <!-- Nav Item - User Information -->
        <li class="nav-item dropdown no-arrow">
          <a class="nav-link dropdown-toggle dropdown-button" href="#" id="userDropdown" role="button"
             data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <img class="img-profile" src="assets/default-imgs/user.svg">Perfil
          </a>
          <!-- Dropdown - User Information -->
          <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in background-white"
               aria-labelledby="userDropdown">
            <a class="dropdown-item text-white" href="customer/SAAI920101A02" >
              <i class="fas fa-user fa-sm fa-fw mr-2 "></i>
              Perfil
            </a>
            <a class="dropdown-item text-white" href="#">
              <i class="fas fa-cogs fa-sm fa-fw mr-2 "></i>
              Configuración
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item text-white" href="#" data-toggle="modal" data-target="#logoutModal">
              <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 "></i>
              Cerrar sesión
            </a>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Offcavnas-->
<div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1"
     id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel" style="width: 720px">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Carrito</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">

  </div>
  <div class="offcanvas-body container-lg" *ngIf="cart.length > 0">
    <div >
      <div class="col-8">

        <table class="table table-hover">
          <thead>
          <tr class="t_head">
            <th  scope="col">No.</th>
            <th  scope="col">Imagen</th>
            <th  scope="col">Producto</th>
            <th  scope="col">Precio</th>
            <th  scope="col">Cantidad</th>
            <th  scope="col">Eliminar</th>
          </tr>
          </thead>
          <tbody>
          <tr class="table-primary t_value" *ngFor="let item of cart; let i = index">
            <th  scope="row">{{i+1}}</th>
            <td ><img [src]="pathImg+item.image" class="d-block w-100 img-fluid rounded-start" alt="..."></td>
            <td >{{item.product.product}}</td>
            <td>{{item.product.price}}</td>
            <td>{{item.quantity}}</td>
            <td>
              <div>
                <button type="button" class="btn-close" (click)="removeFromCart(item.cart_id)">
                  <i class="ph ph-x color-red"></i>
                </button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
        <div class="container-md ">
          <div class="row">
            <div class="col-2">
              <button type="button" class="btn btn-danger  position-absolute start-30" (click)="clearCart()">Vaciar <i class="ph ph-shopping-cart icon-btn"></i></button>
            </div>
            <div class="col-6">
              <button type="button" class="btn btn-info position-absolute start-50" (click)="showInvoice()">
                Pagar <i class="ph ph-credit-card icon-btn"></i>
              </button>
            </div>
          </div>
        </div>



      </div>
    </div>
  </div>
  <div class="offcanvas-body position-relative" *ngIf="cart.length == 0" style="height: 100px">
    <p class="text-primary  position-absolute top-50 start-50 translate-middle "
    >No hay productos en el carrito.</p>
  </div>
</div>
